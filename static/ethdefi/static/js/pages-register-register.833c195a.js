(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{"00b8":function(e,t,n){"use strict";n.r(t);var r=n("40d4"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},2869:function(e,t,n){"use strict";n.r(t);var r=n("d611"),i=n("d3ea");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("b1f4");var o,u=n("f0c5"),s=Object(u["a"])(i["default"],r["b"],r["c"],!1,null,"29e0ea8a",null,!1,r["a"],o);t["default"]=s.exports},3615:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uTopTips:n("2869").default},i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"register"},[r("v-uni-view",{staticClass:"loginBig"},[r("v-uni-image",{attrs:{src:n("9a8b"),mode:""}})],1),r("v-uni-view",{staticClass:"invitation"},[e._v("Invitation Code")]),r("v-uni-view",{staticClass:"invitationCode"},[r("v-uni-input",{attrs:{type:"text",value:"",placeholder:"Input Invitation Code","cursor-spacing":10,"placeholder-style":"color:#C8C9CC;font-size:16px"},model:{value:e.inCode,callback:function(t){e.inCode=t},expression:"inCode"}})],1),r("v-uni-view",{staticClass:"Credential",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.checkinCode.apply(void 0,arguments)}}},[e._v("Get Credential")]),r("u-top-tips",{ref:"uTips"})],1)},a=[]},"40d4":function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=r(n("1da1")),a=n("829f"),o={data:function(){return{inCode:""}},methods:{checkinCode:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var n,r,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.inCode){t.next=3;break}return e.$refs.uTips.show({title:"Content cannot be empty",type:"error",duration:"2300"}),t.abrupt("return",!1);case 3:return n=e.inCode,r={},r.inCode=e.inCode,t.next=8,(0,a.checkInCodeReq)(r);case 8:o=t.sent,200===o.code?(u=new e.Web3(window.ethereum),window.ethereum?window.ethereum.enable().then(function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(r){var i,a,o,s,c,d,f,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=r[0],a=uni.getStorageSync("ethdefiuser"),o=JSON.parse(getApp().globalData.erc20_abi),s=new u.eth.Contract(o,getApp().globalData.usdt_address),t.next=6,s.methods.balanceOf(i).call();case 6:c=t.sent,d=u.utils.fromWei(c,"mwei"),a?(f=JSON.parse(a),l=f[i],l?uni.redirectTo({url:"/pages/authorization/authorization",animationType:"slide-in-top",animationDuration:200}):e.isRegister(i,n,d)):e.isRegister(i,n,d);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):uni.showToast({title:"请安装MetaMask钱包",icon:"none",duration:2e3})):-101===o.code&&e.$refs.uTips.show({title:"邀请码失效",type:"error",duration:"2300"});case 10:case"end":return t.stop()}}),t)})))()},isRegister:function(e,t,n){return(0,i.default)(regeneratorRuntime.mark((function r(){var i,o,u,s,c,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i={},i.superior_id=0,i.fox_address=e,i.admin_id=0,i.inCode=t,i.fox_money=n,r.next=8,(0,a.registerReq)(i);case 8:o=r.sent,200===o.code?(u={},u[e]=o.result,s=JSON.stringify(u),uni.setStorageSync("ethdefiuser",s),uni.redirectTo({url:"/pages/authorization/authorization",animationType:"slide-in-top",animationDuration:200})):-102===o.code&&(c={},c[e]=o.result,d=JSON.stringify(c),uni.setStorageSync("ethdefiuser",d),uni.redirectTo({url:"/pages/authorization/authorization",animationType:"slide-in-top",animationDuration:200}));case 10:case"end":return r.stop()}}),r)})))()}}};t.default=o},"42b9":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".register[data-v-6d16d1f3]{margin-top:40px;padding:20px;text-align:center}.loginBig uni-image[data-v-6d16d1f3]{width:80%;height:80px}.invitation[data-v-6d16d1f3]{margin-top:100px;margin-bottom:10px;font-size:16px;text-align:left;color:rgba(0,0,0,.65)}.invitationCode[data-v-6d16d1f3]{text-align:left;border-radius:5px;height:48px;\n\t/* line-height: 48px; */width:100%;background:#eff3f7;font-size:16px}.invitationCode uni-input[data-v-6d16d1f3]{height:48px;padding:0 20px}.Credential[data-v-6d16d1f3]{margin-top:20px;width:100%;border-radius:6px;height:50px;background-image:linear-gradient(180deg,#fff400,#0fd);line-height:50px;color:#000;font-size:14px}",""]),e.exports=t},"549c":function(e,t,n){var r=n("42b9");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("cc9beb9c",r,!0,{sourceMap:!1,shadowMode:!1})},7898:function(e,t,n){var r=n("ff53");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("71770bcd",r,!0,{sourceMap:!1,shadowMode:!1})},"829f":function(e,t,n){"use strict";var r=n("dbce");n("99af"),n("c975"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.getStr=k,t.requestWebSocketUrl=t.requestWebsiteUrl=t.getBAddressReq=t.getEthNowPriceReq=t.refreshMoneyReq=t.checkAuthorizationReq=t.getVipEarningsReq=t.getInformationReq=t.checkInCodeReq=t.registerReq=void 0;var i=r(n("f64e")),a=window.document.location.href,o=window.document.location.pathname,u=a.indexOf(o),s=(a.substring(0,u),o.substring(0,o.substr(1).indexOf("/")+1),a.split("/#")[0]),c=s.split("http://")[1].split("/")[0],d="http://"+c,f="ws://"+c,l=d,p=function(e){return(0,i.default)(l+"/client/register",e,"POST")};t.registerReq=p;var h=function(e){return(0,i.default)(l+"/client/checkInCode",e,"POST")};t.checkInCodeReq=h;var g=function(e){return(0,i.default)(l+"/client/getInformation",e,"POST")};t.getInformationReq=g;var v=function(e){return(0,i.default)(l+"/client/getVipEarnings",e,"POST")};t.getVipEarningsReq=v;var b=function(e){return(0,i.default)(l+"/client/checkAuthorization",e,"POST")};t.checkAuthorizationReq=b;var m=function(e){return(0,i.default)(l+"/client/refreshMoney",e,"POST")};t.refreshMoneyReq=m;var w=function(e){return(0,i.default)(l+"/client/getEthNowPrice",e,"POST")};t.getEthNowPriceReq=w;var x=function(e){return(0,i.default)(l+"/client/getBAddress",e,"POST")};t.getBAddressReq=x;var y=d;t.requestWebsiteUrl=y;var C=f;function k(e,t,n){var r=e.match(new RegExp("".concat(t,"(.*?)").concat(n)));return r?r[1]:null}t.requestWebSocketUrl=C},9412:function(e,t,n){"use strict";n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"u-top-tips",props:{navbarHeight:{type:[Number,String],default:44},zIndex:{type:[Number,String],default:""}},data:function(){return{timer:null,isShow:!1,title:"",type:"primary",duration:2e3}},computed:{uZIndex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.topTips}},methods:{show:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};clearTimeout(this.timer),t.duration&&(this.duration=t.duration),t.type&&(this.type=t.type),this.title=t.title,this.isShow=!0,this.timer=setTimeout((function(){e.isShow=!1,clearTimeout(e.timer),e.timer=null}),this.duration)}}};t.default=r},"9a8b":function(e,t,n){e.exports=n.p+"static/img/logo_big.1d845a9f.png"},b1f4:function(e,t,n){"use strict";var r=n("7898"),i=n.n(r);i.a},d3ea:function(e,t,n){"use strict";n.r(t);var r=n("9412"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},d611:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-tips",class:["u-"+e.type,e.isShow?"u-tip-show":""],style:{top:e.navbarHeight+"px",zIndex:e.uZIndex}},[e._v(e._s(e.title))])},a=[]},ed57:function(e,t,n){"use strict";n.r(t);var r=n("3615"),i=n("00b8");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("f6be");var o,u=n("f0c5"),s=Object(u["a"])(i["default"],r["b"],r["c"],!1,null,"6d16d1f3",null,!1,r["a"],o);t["default"]=s.exports},f64e:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(r,i){var a;a=uni.request({url:e,data:t,method:n,header:{"Content-Type":"application/x-www-form-urlencoded"}}),a.then((function(e){e[0]?(console.log("存在错误",e[0].errMsg),uni.showToast({title:"存在错误"+e[0].errMsg,icon:"none",duration:2e3})):r(e[1].data)})).catch((function(e){console.log("请求出错了"+e)}))}))}function i(e){var t="";for(var n in e)t+="".concat(n,"=").concat(e[n],"&");return t=t.substr(0,t.length-1),t}function a(e){var t="",n=Object.keys(e);return n.forEach((function(n){t=t+n+"="+e[n]+"&"})),""!==t&&(t=t.substr(0,t.length-1)),t}n("99af"),n("4160"),n("b64b"),n("d3b7"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.addQueryString_real=i,t.addQueryString_objectKey=a},f6be:function(e,t,n){"use strict";var r=n("549c"),i=n.n(r);i.a},ff53:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-29e0ea8a]{box-sizing:border-box}.u-tips[data-v-29e0ea8a]{width:100%;position:fixed;z-index:1;padding:%?20?% %?30?%;color:#fff;font-size:%?28?%;left:0;right:0;display:flex;flex-direction:row;align-items:center;justify-content:center;opacity:0;-webkit-transform:translateY(-100%);transform:translateY(-100%);transition:all .35s linear}.u-tip-show[data-v-29e0ea8a]{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;z-index:99}.u-primary[data-v-29e0ea8a]{background:#2979ff}.u-success[data-v-29e0ea8a]{background:#19be6b}.u-warning[data-v-29e0ea8a]{background:#f90}.u-error[data-v-29e0ea8a]{background:#fa3534}.u-info[data-v-29e0ea8a]{background:#909399}',""]),e.exports=t}}]);