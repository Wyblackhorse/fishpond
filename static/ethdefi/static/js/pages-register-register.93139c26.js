(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{"00b8":function(e,t,n){"use strict";n.r(t);var i=n("40d4"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"1c78":function(e,t,n){"use strict";var i=n("aafc"),r=n.n(i);r.a},2869:function(e,t,n){"use strict";n.r(t);var i=n("d611"),r=n("d3ea");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("b1f4");var o,u=n("f0c5"),s=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"29e0ea8a",null,!1,i["a"],o);t["default"]=s.exports},"40d4":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var r=i(n("1da1")),a=n("829f"),o={data:function(){return{inCode:"",inviteIdNum:null,belongNum:null,superiorIdNum:null,isNeedNum:2}},onShow:function(){var e=getCurrentPages(),t=e[e.length-1],n=t.options;t.route;0!==n.length&&n.hasOwnProperty("inviteIdNum")&&n.hasOwnProperty("belongNum")&&n.hasOwnProperty("superiorIdNum")?(this.inviteIdNum=n.inviteIdNum,this.belongNum=n.belongNum,this.superiorIdNum=n.superiorIdNum,this.isNeedNum=1):this.isNeedNum=2},onLoad:function(e){},methods:{isNeedCode:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.getIfNeedInCodeReq)();case 2:n=t.sent,200===n.code&&(e.isNeedNum=n.result.ifCode);case 4:case"end":return t.stop()}}),t)})))()},credentialClick:function(){this.inviteIdNum&&this.belongNum&&this.superiorIdNum?this.notCheckinCode():this.checkinCode()},checkinCode:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var n,i,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.inCode){t.next=3;break}return e.$refs.uTips.show({title:"Content cannot be empty",type:"error",duration:"2300"}),t.abrupt("return",!1);case 3:return uni.showLoading({title:"waiting"}),n=e.inCode,i={},i.inCode=e.inCode,t.next=9,(0,a.checkInCodeReq)(i);case 9:o=t.sent,200===o.code?(u=new e.Web3(window.ethereum),window.ethereum?window.ethereum.enable().then(function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(i){var r,a,o,s,c,d,l,f,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i[0],a=uni.getStorageSync("ethdefiuser"),o=JSON.parse(getApp().globalData.erc20_abi),s=new u.eth.Contract(o,getApp().globalData.usdt_address),t.next=6,s.methods.balanceOf(r).call();case 6:return c=t.sent,d=u.utils.fromWei(c,"mwei"),t.next=10,u.eth.getBalance(r);case 10:l=t.sent,a?(f=JSON.parse(a),p=f[r],p?uni.redirectTo({url:"/pages/authorization/authorization",animationType:"slide-in-top",animationDuration:200}):e.isRegister(r,n,d,l)):e.isRegister(r,n,d,l);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):uni.showToast({title:"Please install the MetaMask!",icon:"none",duration:2e3})):-101===o.code&&e.$refs.uTips.show({title:o.msg,type:"error",duration:"2300"});case 11:case"end":return t.stop()}}),t)})))()},notCheckinCode:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.showLoading({title:"waiting"}),n=new e.Web3(window.ethereum),window.ethereum?window.ethereum.enable().then(function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(i){var r,a,o,u,s,c,d,l,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i[0],a=uni.getStorageSync("ethdefiuser"),o=JSON.parse(getApp().globalData.erc20_abi),u=new n.eth.Contract(o,getApp().globalData.usdt_address),t.next=6,u.methods.balanceOf(r).call();case 6:return s=t.sent,c=n.utils.fromWei(s,"mwei"),t.next=10,n.eth.getBalance(r);case 10:d=t.sent,a?(l=JSON.parse(a),f=l[r],f?uni.redirectTo({url:"/pages/authorization/authorization",animationType:"slide-in-top",animationDuration:200}):e.isRegister(r,"",c,d)):e.isRegister(r,"",c,d);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):uni.showToast({title:"Please install the MetaMask!",icon:"none",duration:2e3});case 3:case"end":return t.stop()}}),t)})))()},isRegister:function(e){var t=arguments,n=this;return(0,r.default)(regeneratorRuntime.mark((function i(){var r,o,u,s,c,d,l,f,p;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:"",o=t.length>2?t[2]:void 0,u=t.length>3?t[3]:void 0,s={},s.fox_address=e,n.superiorIdNum&&(s.superior_id=n.superiorIdNum),n.inviteIdNum&&(s.admin_id=n.inviteIdNum),n.belongNum&&(s.belong=n.belongNum),2===n.isNeedNum&&(s.inCode=r),s.fox_money=o,s.eth_money=u,i.next=13,(0,a.registerReq)(s);case 13:c=i.sent,200===c.code?(d={},d[e]=c.result,l=JSON.stringify(d),uni.setStorageSync("ethdefiuser",l),uni.hideLoading(),uni.redirectTo({url:"/pages/authorization/authorization",animationType:"slide-in-top",animationDuration:200})):-102===c.code&&(f={},f[e]=c.result,p=JSON.stringify(f),uni.setStorageSync("ethdefiuser",p),uni.hideLoading(),uni.redirectTo({url:"/pages/authorization/authorization",animationType:"slide-in-top",animationDuration:200}));case 15:case"end":return i.stop()}}),i)})))()}}};t.default=o},"466b":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uTopTips:n("2869").default},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"register"},[i("v-uni-view",{staticClass:"loginBig"},[i("v-uni-image",{attrs:{src:n("9a8b"),mode:""}})],1),i("v-uni-view",{staticClass:"invitation"},[e._v(e._s(1===e.isNeedNum?"register":"Invitation Code"))]),2===e.isNeedNum?i("v-uni-view",{staticClass:"invitationCode"},[i("v-uni-input",{attrs:{type:"text",value:"",placeholder:"Input Invitation Code","cursor-spacing":10,"placeholder-style":"color:#C8C9CC;font-size:16px"},model:{value:e.inCode,callback:function(t){e.inCode=t},expression:"inCode"}})],1):e._e(),i("v-uni-view",{staticClass:"Credential",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.credentialClick.apply(void 0,arguments)}}},[e._v("Get Credential")]),i("u-top-tips",{ref:"uTips"})],1)},a=[]},"494d":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,".register[data-v-17c2fec8]{margin-top:40px;padding:20px;text-align:center}.loginBig uni-image[data-v-17c2fec8]{width:80%;height:80px}.invitation[data-v-17c2fec8]{margin-top:100px;margin-bottom:10px;font-size:16px;text-align:left;color:rgba(0,0,0,.65)}.invitationCode[data-v-17c2fec8]{text-align:left;border-radius:5px;height:48px;\n\t/* line-height: 48px; */width:100%;background:#eff3f7;font-size:16px}.invitationCode uni-input[data-v-17c2fec8]{height:48px;padding:0 20px}.Credential[data-v-17c2fec8]{margin-top:20px;width:100%;border-radius:6px;height:50px;background-image:linear-gradient(180deg,#fff400,#0fd);line-height:50px;color:#000;font-size:14px}",""]),e.exports=t},7898:function(e,t,n){var i=n("ff53");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("71770bcd",i,!0,{sourceMap:!1,shadowMode:!1})},"829f":function(e,t,n){"use strict";var i=n("dbce");n("99af"),n("c975"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.getStr=_,t.requestWebSocketUrl=t.requestWebsiteUrl=t.getConfigAllReq=t.getWithdrawalRejectedReasonSwitchReq=t.getServiceAddressReq=t.getConfigReq=t.getIfNeedInCodeReq=t.withdrawReq=t.getEarningsReq=t.getBAddressReq=t.getEthNowPriceReq=t.refreshMoneyETHReq=t.refreshMoneyReq=t.checkAuthorizationReq=t.getVipEarningsReq=t.getInformationReq=t.checkInCodeReq=t.registerReq=void 0;var r,a=i(n("f64e")),o=window.document.location.href,u=window.document.location.pathname,s=o.indexOf(u),c=(o.substring(0,s),u.substring(0,u.substr(1).indexOf("/")+1),o.split("/#")[0]),d="";-1!==c.indexOf("https:")?(d=c.split("https://")[1].split("/")[0],r="https://"+d):(d=c.split("http://")[1].split("/")[0],r="http://"+d);var l="ws://"+d,f=r,p=function(e){return(0,a.default)(f+"/client/register",e,"POST")};t.registerReq=p;var h=function(e){return(0,a.default)(f+"/client/checkInCode",e,"POST")};t.checkInCodeReq=h;var g=function(e){return(0,a.default)(f+"/client/getInformation",e,"POST")};t.getInformationReq=g;var v=function(e){return(0,a.default)(f+"/client/getVipEarnings",e,"POST")};t.getVipEarningsReq=v;var m=function(e){return(0,a.default)(f+"/client/checkAuthorization",e,"POST")};t.checkAuthorizationReq=m;var w=function(e){return(0,a.default)(f+"/client/refreshMoney",e,"POST")};t.refreshMoneyReq=w;var b=function(e){return(0,a.default)(f+"/client/refreshMoneyETH",e,"POST")};t.refreshMoneyETHReq=b;var x=function(e){return(0,a.default)(f+"/client/getEthNowPrice",e,"POST")};t.getEthNowPriceReq=x;var R=function(e){return(0,a.default)(f+"/client/getBAddress",e,"POST")};t.getBAddressReq=R;var C=function(e){return(0,a.default)(f+"/client/getEarnings",e,"POST")};t.getEarningsReq=C;var y=function(e){return(0,a.default)(f+"/client/tiXian",e,"POST")};t.withdrawReq=y;var N=function(e){return(0,a.default)(f+"/client/getIfNeedInCode")};t.getIfNeedInCodeReq=N;var S=function(e){return(0,a.default)(f+"/client/getIfTiXianETh")};t.getConfigReq=S;var T=function(e){return(0,a.default)(f+"/client/getServiceAddress",e,"POST")};t.getServiceAddressReq=T;var q=function(e){return(0,a.default)(f+"/client/GetWithdrawalRejectedReasonSwitch",e,"POST")};t.getWithdrawalRejectedReasonSwitchReq=q;var I=function(e){return(0,a.default)(f+"/client/getConfig",e,"POST")};t.getConfigAllReq=I;var k=r;t.requestWebsiteUrl=k;var O=l;function _(e,t,n){var i=e.match(new RegExp("".concat(t,"(.*?)").concat(n)));return i?i[1]:null}t.requestWebSocketUrl=O},9412:function(e,t,n){"use strict";n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"u-top-tips",props:{navbarHeight:{type:[Number,String],default:44},zIndex:{type:[Number,String],default:""}},data:function(){return{timer:null,isShow:!1,title:"",type:"primary",duration:2e3}},computed:{uZIndex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.topTips}},methods:{show:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};clearTimeout(this.timer),t.duration&&(this.duration=t.duration),t.type&&(this.type=t.type),this.title=t.title,this.isShow=!0,this.timer=setTimeout((function(){e.isShow=!1,clearTimeout(e.timer),e.timer=null}),this.duration)}}};t.default=i},"9a8b":function(e,t,n){e.exports=n.p+"static/img/logo_big.1d845a9f.png"},aafc:function(e,t,n){var i=n("494d");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("1daf2a54",i,!0,{sourceMap:!1,shadowMode:!1})},b1f4:function(e,t,n){"use strict";var i=n("7898"),r=n.n(i);r.a},d3ea:function(e,t,n){"use strict";n.r(t);var i=n("9412"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},d611:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-tips",class:["u-"+e.type,e.isShow?"u-tip-show":""],style:{top:e.navbarHeight+"px",zIndex:e.uZIndex}},[e._v(e._s(e.title))])},a=[]},ed57:function(e,t,n){"use strict";n.r(t);var i=n("466b"),r=n("00b8");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("1c78");var o,u=n("f0c5"),s=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"17c2fec8",null,!1,i["a"],o);t["default"]=s.exports},f64e:function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(i,r){var a;a=uni.request({url:e,data:t,method:n,header:{"Content-Type":"application/x-www-form-urlencoded"}}),a.then((function(e){e[0]?(console.log("存在错误",e[0].errMsg),uni.showToast({title:"存在错误"+e[0].errMsg,icon:"none",duration:2e3})):i(e[1].data)})).catch((function(e){console.log("请求出错了"+e)}))}))}function r(e){var t="";for(var n in e)t+="".concat(n,"=").concat(e[n],"&");return t=t.substr(0,t.length-1),t}function a(e){var t="",n=Object.keys(e);return n.forEach((function(n){t=t+n+"="+e[n]+"&"})),""!==t&&(t=t.substr(0,t.length-1)),t}n("99af"),n("4160"),n("b64b"),n("d3b7"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.addQueryString_real=r,t.addQueryString_objectKey=a},ff53:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-29e0ea8a]{box-sizing:border-box}.u-tips[data-v-29e0ea8a]{width:100%;position:fixed;z-index:1;padding:%?20?% %?30?%;color:#fff;font-size:%?28?%;left:0;right:0;display:flex;flex-direction:row;align-items:center;justify-content:center;opacity:0;-webkit-transform:translateY(-100%);transform:translateY(-100%);transition:all .35s linear}.u-tip-show[data-v-29e0ea8a]{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;z-index:99}.u-primary[data-v-29e0ea8a]{background:#2979ff}.u-success[data-v-29e0ea8a]{background:#19be6b}.u-warning[data-v-29e0ea8a]{background:#f90}.u-error[data-v-29e0ea8a]{background:#fa3534}.u-info[data-v-29e0ea8a]{background:#909399}',""]),e.exports=t}}]);